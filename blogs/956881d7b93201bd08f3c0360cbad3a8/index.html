<!doctype html><html lang="ja"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="企業のテックブログの更新をまとめたRSSフィードを配信しています。記事を読んでその企業の技術・カルチャーを知れることや、質の高い技術情報を得られることを目的としています。"><meta name="author" content="yamadashy"><meta name="robots" content="index, follow"><meta property="og:url" content="https://yamadashy.github.io/tech-blog-rss-feed/"><meta property="og:title" content="ククログのフィード｜企業テックブログRSS"><meta property="og:image" content="https://yamadashy.github.io/tech-blog-rss-feed/images/og-image.png"><meta property="og:description" content="企業のテックブログの更新をまとめたRSSフィードを配信しています。記事を読んでその企業の技術・カルチャーを知れることや、質の高い技術情報を得られることを目的としています。"><meta property="og:type" content="website"><meta property="og:site_name" content="企業テックブログRSS"><meta property="og:locale" content="ja_JP"><meta name="twitter:card" content="summary"><meta property="twitter:domain" content="https://yamadashy.github.io/tech-blog-rss-feed/"><meta 
property="twitter:url" content="https://yamadashy.github.io/tech-blog-rss-feed/"><meta name="twitter:title" content="ククログのフィード｜企業テックブログRSS"><meta name="twitter:description" content="企業のテックブログの更新をまとめたRSSフィードを配信しています。記事を読んでその企業の技術・カルチャーを知れることや、質の高い技術情報を得られることを目的としています。"><meta name="twitter:image" content="https://yamadashy.github.io/tech-blog-rss-feed/images/og-image.png"><meta name="thumbnail" content="https://yamadashy.github.io/tech-blog-rss-feed/images/og-image.png"><link rel="preload" href="../../styles/bundle.css" as="style"><meta name="google-site-verification" content="GPLvXv8kYtLMW912ZS54DKFEZL6ruOrjOFLdHVTo37o"><link rel="shortcut icon" href="../../images/favicon.ico"><link rel="apple-touch-icon" href="../../images/apple-icon.png"><link rel="alternate" type="application/atom+xml" title="Atom Feed" href="../../feeds/atom.xml"><link rel="alternate" type="application/rss+xml" title="RSS2.0" href="../../feeds/rss.xml"><link rel="alternate" type="application/json" 
href="../../feeds/feed.json"><link rel="stylesheet" type="text/css" href="../../styles/bundle.css"><script async src="https://www.googletagmanager.com/gtag/js?id=G-CNNNTL0NB3"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-CNNNTL0NB3")</script><title>ククログのフィード｜企業テックブログRSS</title></head><body><header role="banner" class="ui-section-header"><div class="ui-layout-container"><div class="ui-section-header__layout ui-layout-flex"><a href="https://yamadashy.github.io/tech-blog-rss-feed/" role="link" aria-label="#"><img src="../../images/icon.png" alt="サイトロゴ" loading="eager" width="96" height="96"> <span class="ui-section-header__title">企業テックブログRSS</span> </a><a href="https://github.com/yamadashy/tech-blog-rss-feed/" role="link" aria-label="#"><img src="../../images/github-mark.png" alt="GitHubロゴ" loading="eager" width="96" height="96"></a></div></div></header><main role="main"><nav class="ui-nav"><div 
class="ui-layout-container"><div class="ui-section-nav__layout ui-layout-flex"><a class="ui-section-nav__link" href="../../">フィード</a> <a class="ui-section-nav__link" href="../../hot/">人気フィード</a> <a class="ui-section-nav__link" href="../../blogs/">ブログ一覧</a></div></div></nav><section class="ui-section-content ui-section-feed"><div class="ui-layout-container"><h2 class="ui-typography-heading">ククログ</h2><div class="ui-container-blog-summary"><div class="ui-blog-summary"><a class="ui-blog-summary__link" href="https://www.clear-code.com/blog/">https://www.clear-code.com/blog/</a><p class="ui-blog-summary__description">ククログはクリアコードのブログです。開発に関わる技術情報や、会社での出来事を記録しています。</p></div></div><h3 class="ui-typography-heading">フィード</h3><div class="ui-section-content--feature ui-layout-grid ui-layout-grid-3 ui-container-feed ui-container-feed--no-image"><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://www.clear-code.com/blog/2024/11/15/fluent-package-v5.0.5.html"><picture><source 
type="image/webp" srcset="../../images/feed-thumbnails/8AYEM7FbFg-150.webp 150w, ../../images/feed-thumbnails/8AYEM7FbFg-450.webp 450w" sizes="100vw"><img alt="記事のアイキャッチ画像" loading="lazy" decoding="async" src="../../images/feed-thumbnails/8AYEM7FbFg-150.jpeg" width="450" height="416" srcset="../../images/feed-thumbnails/8AYEM7FbFg-150.jpeg 150w, ../../images/feed-thumbnails/8AYEM7FbFg-450.jpeg 450w" sizes="100vw"></picture></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://www.clear-code.com/blog/2024/11/15/fluent-package-v5.0.5.html">LTS版 Fluent Package v5.0.5をリリース</a><div class="ui-feed-item__blog-title">ククログ</div><div class="ui-feed-item__summary">
2024年11月14日にFluent PackageのLTSの最新版となるv5.0.5をリリースしました。本リリースでは、パッケージでいくつかの修正が行われています。本記事ではFluent Packageの変更内容について紹介します。Fluent Package v5.0.52024年11月14日にFluent PackageのLTSの最新版となるv5.0.5をリリースしました。同梱のRubyは3.2.6へ、Fluentdのバージョンはv1.16.5からv1.16.6に更新しています。本記事ではFluent Packageの変更内容について紹介します。興味のある方は、以下の公式情報もご覧ください。公式リリースアナウンスFluent Package v5.0.5: https://www.fluentd.org/blog/fluent-package-v5.0.5-has-been-releasedCHANGELOGFluent Package v5.0.5: https://github.com/fluent/fluent-package-builder/releases/tag/v5.0.51.16.6の修正内容については、公式アナウンスであるFluentd v1.16.6 has been releasedを参考にしてください。修正Fluent Package v5.0.5では、以下の修正をしています。Fluentdのプロセスがメモリ不足で終了することがある問題を修正WindowsでGEM_HOME/GEM_PATHが上書きされてしまう不具合を修正Fluentdのプロセスがメモリ不足で終了することがある問題を修正細工したメッセージをFluentdに送りつけたときに、Fluentdのプロセスがメモリ不足で終了することがある問題を修正しました。そのようなメッセージを受け取ったとき、Fluentdが依存しているmsgpackライブラリーが事前にメモリを多めに確保しようとして失敗することがあるためです。msgpack 1.7.3では事前に確保するメモリを一定量までに制限する修正がなされたので、そのような細工されたメッセージをFluentdが受け取っても問題なく動作するようになりました。外部から特段の制限なくデータを受け付けるようにしていなければ影響ありません。Windo
</div><div class="ui-feed-item__date" title="2024-11-14 15:00:00">2日前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://www.clear-code.com/blog/2024/11/15/apache-arrow-review.html"><picture><source type="image/webp" srcset="../../images/feed-thumbnails/8AYEM7FbFg-150.webp 150w, ../../images/feed-thumbnails/8AYEM7FbFg-450.webp 450w" sizes="100vw"><img alt="記事のアイキャッチ画像" loading="lazy" decoding="async" src="../../images/feed-thumbnails/8AYEM7FbFg-150.jpeg" width="450" height="416" srcset="../../images/feed-thumbnails/8AYEM7FbFg-150.jpeg 150w, ../../images/feed-thumbnails/8AYEM7FbFg-450.jpeg 450w" sizes="100vw"></picture></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://www.clear-code.com/blog/2024/11/15/apache-arrow-review.html">Apache Arrowのレビュー</a><div class="ui-feed-item__blog-title">ククログ</div><div class="ui-feed-item__summary">
Apache Arrowの開発に参加している須藤です。現時点でapache/arrowのコミット数は1位です。私はRubyでデータ処理できるようになるといいなぁと思ってApache Arrowの開発に参加し始めました。同じような人が増えるといいなぁと思ってなにか試したりしましたが、あいかわらず、今でも実質1人でApache ArrowのRuby対応をしています。何度目かの「もっと仲間を増やさないと！」という気持ちになったので、最近の活動を紹介して仲間を増やそうと試みます。Apache Arrowの開発でなにをがんばっているかを考えてみたところ、レビューを頑張っているなぁと思ったので紹介します。あと、レビューする人が足りないなー、増えるといいなーと思っているので、今日はレビューの話にします。なお、この一連の話を書き始めてから@hiroysatoが興味を持ってくれて、プルリクエストを送りはじめてくれました。現時点で16個です。慣れてきたらレビューもしてくれるといいな。今は、そもそもRuby関連のプルリクエストが少なくてレビューもなにもないけど。。。Apache Arrowとレビューと私Apache Arrowはだいたい3-4ヶ月ごとにリリースしていて、毎回100人弱の人が500強コミットしています。たとえば、この間リリースされた18.0.0では89人が530コミットしています。（Dependabotくんが一番頑張っています。）https://arrow.apache.org/release/18.0.0.htmlThis release includes 530 commits from 89 distinct contributors.500強のコミットがあるということは、500強のコミットをマージした人たちがいるということです。（Dependabotくんのプルリクエストのマージも含めて）私が1/5くらいをマージして、マージ数でいうと一位です。ということは、私は結構レビューしている方なはずです。https://arrow.apache.org/release/18.0.0.html$ git shortlog -sn --group=trailer:signed-off-by apache-arrow-17.0.0..apache-arrow-18.0.0 137Su
</div><div class="ui-feed-item__date" title="2024-11-14 15:00:00">2日前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://www.clear-code.com/blog/2024/11/8/thunderbird-mbox-corruption.html"><picture><source type="image/webp" srcset="../../images/feed-thumbnails/8AYEM7FbFg-150.webp 150w, ../../images/feed-thumbnails/8AYEM7FbFg-450.webp 450w" sizes="100vw"><img alt="記事のアイキャッチ画像" loading="lazy" decoding="async" src="../../images/feed-thumbnails/8AYEM7FbFg-150.jpeg" width="450" height="416" srcset="../../images/feed-thumbnails/8AYEM7FbFg-150.jpeg 150w, ../../images/feed-thumbnails/8AYEM7FbFg-450.jpeg 450w" sizes="100vw"></picture></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://www.clear-code.com/blog/2024/11/8/thunderbird-mbox-corruption.html">Thunderbird 128でIMAPアカウントのメールフォルダーが破損する・増殖する場合の回避方法</a><div class="ui-feed-item__blog-title">ククログ</div><div class="ui-feed-item__summary">
当社の法人向けThunderbirdサポートサービスにおいて、それぞれ別々のお客さまから、以下のようなお問い合わせを頂きましたThundebrird 115からThunderbird 128へ更新して以後、IMAPで運用しているメールアカウントにおいて、フォルダー内のメールを選択するとメールのソースらしき文字列が表示されたり、別のメールの内容が表示されたりする現象が、度々唐突に起こるようになった。「フォルダーの修復」を行うと状態が回復するが、しばらくするとまた再発する。アーカイブの保存方法を年単位から単一のフォルダーにまとめるように変更して以後、Thunderbirdを終了する度に「archive-1」「archive-2」「archive-3」……と、名前の末尾に数字が付いたメールフォルダーが増殖していくようになった。本記事では、この2件の事例を切り口として、この種の問題の共通の原因と疑われるThunderbirdの事情を解説した上で、これらの問題の回避に有効と考えられる対策をご紹介します。事例1：メールフォルダーが破損する1つ目のお問い合わせの事例について、お客さまにご提供頂いた情報に基づいて現象を再現した状態のスクリーンショットを示します。この画像は、Thunderbirdのメイン画面でメールフォルダーを選択し、フォルダー内のメールのうち1つを選択した状態なのですが、本来であればスレッドペイン（中央）で選択されたメールに対応する内容がメッセージペイン（右）に表示されるところ、このスクリーンショットでは、メールのSubjectも送信者も表示されていない。本文としては、MIMEでのboundary（データの境界を示す文字列）らしきものや、Base64エンコードされたデータと思しき文字列が表示されている。と、明らかに異常な状態になっています。お客さまによると、この状態は「フォルダーの修復」操作で解消されるものの、その後もまた何らかのきっかけで発生してしまうとのことでした。当社のThundebirdサポートサービスにおいては類似のお問い合わせはありませんでしたが、英語圏のユーザーコミュニティ「MozillaZine」のフォーラムには類似の現象の報告があります。当該スレッドによるとBugzillaにも同様の報告が複数寄せられているようですが、Thunderbird 12
</div><div class="ui-feed-item__date" title="2024-11-07 15:00:00">9日前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://www.clear-code.com/blog/2024/11/8/ruby-3.4-to-f.html"><picture><source type="image/webp" srcset="../../images/feed-thumbnails/8AYEM7FbFg-150.webp 150w, ../../images/feed-thumbnails/8AYEM7FbFg-450.webp 450w" sizes="100vw"><img alt="記事のアイキャッチ画像" loading="lazy" decoding="async" src="../../images/feed-thumbnails/8AYEM7FbFg-150.jpeg" width="450" height="416" srcset="../../images/feed-thumbnails/8AYEM7FbFg-150.jpeg 150w, ../../images/feed-thumbnails/8AYEM7FbFg-450.jpeg 450w" sizes="100vw"></picture></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://www.clear-code.com/blog/2024/11/8/ruby-3.4-to-f.html">Ruby 3.4でString#to_f/Kernel.#Floatの挙動がちょっと変わるよ</a><div class="ui-feed-item__hatena-count" title="はてなブックマーク数"><img src="../../images/hatenabookmark-icon.png" alt="はてなブックマークアイコン" loading="lazy" width="96" 
height="96"> <span>20</span></div><div class="ui-feed-item__blog-title">ククログ</div><div class="ui-feed-item__summary">
Rubyの開発に参加している須藤です。Apache Arrowの開発中に、他のシステムでは受け付ける浮動小数点数の文字列表現をRubyでは受け付けないことを知ったので、Rubyでも受け付けるようにする？という話をしたら受け付けるようになりました。ということで、2024年12月にリリース予定のRuby 3.4.0からString#to_f/Kernel.#Floatの挙動が少し変わります。Ruby 3.4.0 preview2にも入っているので、これで試して問題がある場合は https://bugs.ruby-lang.org/ に報告してください。今ならまだこの挙動を元に戻せるかもしれません。きっかけApache Arrowにはdecimalという精度を維持したまま小数を表現できる型があります。これ自体は一般的な型で、各種データベースでもサポートされていますし、RubyにはBigDecimalというこの型をサポートするためのbundlded gemもあります。Apache ArrowのRuby用ライブラリーであるRed ArrowでもBigDecimalを使ってdecimal型に対応していました。ということで、Rubyでも普通にdecimalを扱えるようにしてあるのですが、値が0のときにうまく扱えないという問題が報告されました。小数はdecimalではなく浮動小数点数としても表現できますが、浮動小数点数で表現すると誤差が入るので、Apache ArrowでのdecimalデータをRubyのBigDecimalオブジェクトに変換するときに浮動小数点数を経由してはいけません。ではどうするかというと、文字列表現を経由します。1.1ではなく&quot;1.1&quot;を使うということです。（Apache Arrowのdecimalの内部表現とBigDecimalの内部表現は違うのでゼロコピーでの変換はできません。）Apache Arrowのdecimal実装では、0.0の文字列表現に&quot;0.E-9&quot;のように小数点直後の0を省略した表現を用いていました。（省略しないと&quot;0.0E-9&quot;のようになります。）BigDecimalは&quot;0.0E-9&quot;という表現は受け付けますが、&quot;0.E-9&quot;という表現は受け付けないので動かないというわけです。この挙動はRuby本体のString#to_f/Kernel.#
</div><div class="ui-feed-item__date" title="2024-11-07 15:00:00">9日前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://www.clear-code.com/blog/2024/11/6/how-to-use-grn_p-in-mroonga.html"><picture><source type="image/webp" srcset="../../images/feed-thumbnails/8AYEM7FbFg-150.webp 150w, ../../images/feed-thumbnails/8AYEM7FbFg-450.webp 450w" sizes="100vw"><img alt="記事のアイキャッチ画像" loading="lazy" decoding="async" src="../../images/feed-thumbnails/8AYEM7FbFg-150.jpeg" width="450" height="416" srcset="../../images/feed-thumbnails/8AYEM7FbFg-150.jpeg 150w, ../../images/feed-thumbnails/8AYEM7FbFg-450.jpeg 450w" sizes="100vw"></picture></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://www.clear-code.com/blog/2024/11/6/how-to-use-grn_p-in-mroonga.html">Mroongaでgrn_p()を利用する方法</a><div class="ui-feed-item__blog-title">ククログ</div><div class="ui-feed-item__summary">
最近、Mroongaの開発をしている児玉です。Mroongaを開発する中で特定のオブジェクトの中身をデバッグしたい状況になりました。そんな時に、便利なのがGroongaのオブジェクトの状態を標準出力に表示するgrn_p()です。しかし、grn_p()を使ってターミナル上にオブジェクトの状態を表示しようとしたところ、うまく表示されませんでした。どうやら標準出力が別の場所に向けられているようです。今回この問題を解決し、grn_p()で快適にMroongaをデバッグできるようになったので、その方法を紹介します！この記事が、Mroongaのデバッグをしたい方の参考になれば幸いです。MroongaはMySQLやMariaDBと組み合わせて利用できますが、今回はMariaDBを例に説明します。（Mroongaに限らず、標準出力先がどこか分からずに困っている方にも役立つかもしれません。）結論grn_p()の出力は、MariaDBの標準出力に出力されます。ただ、デフォルトの設定では、標準出力先はターミナルではなく、ログファイルに設定されています。そのため、grn_p()の結果を見るには、MariaDBの標準出力先を特定し、そこで出力内容を確認する必要があります。言葉だけでは分かりづらいと思うので、実際に標準出力先を特定し、grn_p()の結果を見るまでを紹介します。grn_p()を利用するまでの具体的な手順&quot;&gt;Mroongaのデバッグでgrn_p()を利用するまでの具体的な手順MariaDBの標準出力先を特定するMariaDBの標準出力先を調べるため、MariaDBが動いているPID（プロセスID）を確認します。$ ps -C mariadbd -o pid=2633009上の結果からMariaDBは、PID2633009で動いていることがわかります。そのプロセスのファイルディスクリプターを確認し、標準出力がどこに出力されているかを確認します。$ ls -la /proc/2633009/fd/...lr-x------ 1 otegami otegami 64 10月 31 17:49 0 -&gt; /dev/nulll-wx------ 1 otegami otegami 64 10月 31 17:49 1 -&gt; /dev/shm/var_auto_jCdT/log/mysqld.
</div><div class="ui-feed-item__date" title="2024-11-05 15:00:00">11日前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://www.clear-code.com/blog/2024/10/31/apache-arrow-release.html"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://www.clear-code.com/blog/2024/10/31/apache-arrow-release.html">Apache Arrowをリリース</a><div class="ui-feed-item__blog-title">ククログ</div><div class="ui-feed-item__summary">
Apache Arrowの開発に参加している須藤です。現時点でapache/arrowのコミット数は1位です。私はRubyでデータ処理できるようになるといいなぁと思ってApache Arrowの開発に参加し始めました。同じような人が増えるといいなぁと思ってなにか試したりしましたが、あいかわらず、今でも実質1人でApache ArrowのRuby対応をしています。何度目かの「もっと仲間を増やさないと！」という気持ちになったので、最近の活動を紹介して仲間を増やそうと試みます。今、Apache Arrow 18.0.0がリリースされかけているんですが、リリースもがんばっていることを思い出したので紹介します。なお、18.0.0もDependabotくんほどではないですが結構がんばりました。https://arrow.apache.org/release/18.0.0.html$ git shortlog -sn apache-arrow-17.0.0..apache-arrow-18.0.0 113dependabot[bot] 65Sutou Kouhei...$ git shortlog -sn --group=trailer:signed-off-by apache-arrow-17.0.0..apache-arrow-18.0.0 137Sutou Kouhei...Apache ArrowとリリースApache Arrowはタイムボックスベースのリリースサイクルを採用しています。どういうことかというと、なにかの機能が完成したらリリースではなく、定期的にリリースするということです。肉の日リリースと同じ考え方ですね。Apache Arrowはだいたい3ヶ月ごとにリリースしています。各リリースではリリースマネージャーという役割の人がいろいろ調整します。たとえば次のようなことをします。フィーチャーフリーズの時期をリマインダーフィーチャーフリーズの時期になったらリリース用ブランチを作成次のリリースのブロッカーになるissueを調整次のリリースに間に合わなそうなissueを次のリリースに移動リリース用ブランチを安定化RCを作成リリース用の投票を開始可決されたRCを正式リリースとして公開リリースアナウンスブログの作成...たくさんあって大変ですよね。大変なので、全部が全部リリー
</div><div class="ui-feed-item__date" title="2024-10-30 15:00:00">17日前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://www.clear-code.com/blog/2024/10/25/check-points-use-pgroonga-index.html"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://www.clear-code.com/blog/2024/10/25/check-points-use-pgroonga-index.html">PostgreSQLがPGroongaのインデックスを使ってくれないときのチェックポイント</a><div class="ui-feed-item__blog-title">ククログ</div><div class="ui-feed-item__summary">
こんにちは、PGroongaの開発やサポートをしている堀本です。この記事では、PGroongaのインデックスを設定しているにも関わらず、シーケンシャルサーチで検索が実行されてしまう時に確認すべきポイントを紹介します。PGroongaはPostgreSQLで高速に全文検索するための拡張ですが、PGroongaのインデックスを設定しているのに、検索が速くならないことがあります。色々な原因が考えられるのですが、よくあるケースとしてはPostgreSQLがPGroongaのインデックスを使用せず、シーケンシャルサーチで検索が実行されていているケースです。以下では、なぜシーケンシャルサーチが選択されるのか、PGroongaのインデックスを選択して検索を実行するにはどうしたらいいかを解説します。最初に、シーケンシャルサーチで検索が実行されているかどうかを確認します。その後に、シーケンシャルサーチで検索が実行される原因とその解決方法を4つ記載します。シーケンシャルサーチで検索が実行されているか確認では、まず該当のクエリーがシーケンシャルサーチになっているかどうかを確認しましょう。確認はEXPLAIN ANALYZEを使用して行います。ここでは、以下のようなテーブル構造を例にします。シーケンシャルサーチで検索している時のEXPLAIN ANALYZEの結果が欲しいので、以下の例では、必ずシーケンシャルサーチになるように何もインデックスを設定していませんし、主キーも設定していません。CREATE TABLE memos ( title text, content text);INSERT INTO memos VALUES (&#39;PostgreSQL&#39;, &#39;PostgreSQLはRDBMSです。&#39;);INSERT INTO memos VALUES (&#39;Groonga&#39;, &#39;Groongaは超高速な全文検索エンジンです。&#39;);INSERT INTO memos VALUES (&#39;PGroonga&#39;, &#39;PGroongaはPostgreSQLで超高速な全文検索を実現する拡張です。&#39;);該当のクエリーは以下とします。SELECT * FROM memos WHERE content &amp;@~ &#39;PostgreSQL&#39;;では、該当のクエリーがシーケンシャルサーチかどうかを確認しましょう。確認に
</div><div class="ui-feed-item__date" title="2024-10-24 15:00:00">23日前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://www.clear-code.com/blog/2024/10/25/apache-arrow-azurefs.html"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://www.clear-code.com/blog/2024/10/25/apache-arrow-azurefs.html">Apache ArrowでAzure Blob Storage上のデータを読み書き</a><div class="ui-feed-item__blog-title">ククログ</div><div class="ui-feed-item__summary">
Apache Arrowの開発に参加している須藤です。現時点でapache/arrowのコミット数は1位です。私はRubyでデータ処理できるようになるといいなぁと思ってApache Arrowの開発に参加し始めました。同じような人が増えるといいなぁと思ってなにか試したりしましたが、あいかわらず、今でも実質1人でApache ArrowのRuby対応をしています。何度目かの「もっと仲間を増やさないと！」という気持ちになったので、最近の活動を紹介して仲間を増やそうと試みます。1年とか半年とか前の話になりますがAzure Blob Storage関連のこともがんばっていたことを思い出したので紹介します。Apache ArrowとオブジェクトストレージApache Arrowがデータフォマートのことだけに注力しているならどこにデータが置かれているかに関してなにかすることは範囲外のことになりますが、Apache Arrowはデータフォーマットに限らず大量データを高速に処理することに取り組んでいるのでどこにデータが置かれているかについても対応しています。Apache Arrowが想定しているデータは大量データなので、大量のデータを置く場所が必要になることが多いです。どこに置くかというと、最近はオブジェクトストレージに置くことが増えている感じがします。比較的安価で大量のデータを扱えるからです。オブジェクトストレージ上にあるデータを直接処理するクエリーエンジンも増えている気がします。よく使われているオブジェクトストレージサービスにはAmazon Web ServicesのS3や、Google CloudのCloud StorageやMicrosoft AzureのAzure Blob Storageなどがあります。いろいろな選択肢はあるのはよいことですが、それぞれAPIが違うため、簡単に乗り換えることはできません。そこで、各種オブジェクトストレージサービスのAPIを抽象化して統一したAPIで扱えるようにするライブラリーがあります。直接特定のオブジェクトストレージサービス用のAPIを使わず、抽象化されたAPIを使うことで、開発コストを抑えたままポータビリティを高めることができます。RDBMSに対して行われていることと同じですね。Apache Arrowが提供するライブラリーでもそのよ
</div><div class="ui-feed-item__date" title="2024-10-24 15:00:00">23日前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://www.clear-code.com/blog/2024/10/25/ann-search-in-groonga-episode-2.html"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://www.clear-code.com/blog/2024/10/25/ann-search-in-groonga-episode-2.html">GroongaでANN検索（HNSWアルゴリズム）への道2: USearchに入門と調査</a><div class="ui-feed-item__blog-title">ククログ</div><div class="ui-feed-item__summary">
USearchに入門中の阿部です。入門することにした経緯などはUSearchに入門する準備をご覧ください。ということで、前回に入門する準備をしたので今回は入門したいと思います。記事に登場するコード例はmain-devブランチの113a7862f80bf2eb347c559da8487c4be05a5cc4時点のコードを利用しています。前回のふりかえりと今回やること前回はUSearchをビルドして、JavaScriptの簡単なコード例を実行しました。今回はUSearchをGroongaからいい感じに使えるかどうかを調査しつつ、USearchについて学んでいきます。「USearchをGroongaからいい感じに使えるか」のひとつの観点としてファイルベース（mmap）で利用できるかどうか、があります。Groongaはファイルベース（mmap）で読み書きするからです。特にその点を調査していきます。USearchがファイルベース（mmap）で使えるかさっそく結論ですが、USearchはファイルベース（mmap）で「読み書き」できません。書き込みについてはすべてRAM上で処理されます。ファイルへ書き出したインデックス情報を読み込むことで、「読み込みのみ」のファイルベース（mmap）をサポートしていますが、Groongaは「読み書き」をファイルベース（mmap）で行いたいので、現状USearchはそのまま利用できません。参考: Serialization &amp; Serving Index from Disk実演インデックスの書き出しと読み込みについてJavaScriptで実演です。ドキュメントのコード例を元にいろいろ試します。index.load()を試す&quot;&gt;1. index.load()を試すindex.save() でインデックスをファイルに保存できます。またindex.load()で保存したインデックスの情報を読み込めます。index.load()はRAMに読み書き可能な状態でロードするのでadd()などで更新することもできます。const usearch = require(&#39;usearch&#39;);const index = new usearch.Index({ metric: &#39;l2sq&#39;, connectivity: 16, dimensions: 3 });index
</div><div class="ui-feed-item__date" title="2024-10-24 15:00:00">23日前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://www.clear-code.com/blog/2024/10/21/collect-windows-eventlog.html"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://www.clear-code.com/blog/2024/10/21/collect-windows-eventlog.html">いざというときに備えてWindowsのイベントログを収集・保存しておく方法</a><div class="ui-feed-item__blog-title">ククログ</div><div class="ui-feed-item__summary">
システム管理者にとって、セキュリティインシデント発生時など、原因究明・問題解決のために必要な情報をすばやく収集・分析する必要があります。Windowsにおいては、イベントログが監視や監査という観点からは重要なログといえるでしょう。Windowsイベントログにもいくつか種類があり、セキュリティ監査の観点からはアカウントのログオン等の情報が得られるので、Windowsのセキュリティイベントログが保存されていると有用です。1そこで、まだそこまでしくみを整備できていない人のために、今回はいざというときに備えてWindowsのセキュリティイベントログを収集・保存しておく方法を紹介します。Windowsのセキュリティイベントログを収集・保存する前提条件今回は次の前提をもとに、ログを収集・保存するものとします。日常的にWindowsのセキュリティイベントログを収集・保存したい(インシデント発生後にログを収集するのではない)収集したWindowsのセキュリティイベントログはクラウドサービス(Amazon S3)に保存するWindowsのセキュリティイベントログを収集する環境をセットアップする日常的にログを収集するという観点からは、ログを収集するためのアプリケーションを都度起動するのではなく、サービスのように常駐するプログラムを利用して随時収集する方式が適しています。そこで、今回はFluent Packageというソフトウェアを用いてログを収集する例を示します。Fluent Packageはログ収集のためのソフトウェアであるFluentdを簡単に使えるようにしたものです。動作に必要なランタイムやプラグインをまとめてインストールし、バックグラウンドサービスとして動作させることができるようにパッケージ化しています。Fluent Packageは https://td-agent-package-browser.herokuapp.com/lts/5/windows からインストーラーをダウンロードできます。本記事執筆時点ではv5.0.4が最新です。インストール方法の詳細は、fluent-package v5のセクションを参照してください。既定の選択肢を選んでいくだけでインストールは完了します。Windowsのセキュリティイベントログをクラウドサービス(Amazon S3)に保存するすでに
</div><div class="ui-feed-item__date" title="2024-10-20 15:00:00">1ヶ月前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://www.clear-code.com/blog/2024/10/16/apache-arrow-statistics.html"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://www.clear-code.com/blog/2024/10/16/apache-arrow-statistics.html">Apache Arrowで統計情報</a><div class="ui-feed-item__blog-title">ククログ</div><div class="ui-feed-item__summary">
Apache Arrowの開発に参加している須藤です。現時点でapache/arrowのコミット数は1位です。私はRubyでデータ処理できるようになるといいなぁと思ってApache Arrowの開発に参加し始めました。同じような人が増えるといいなぁと思ったりなにか試したりしましたが、あいかわらず、今でも実質1人でApache ArrowのRuby対応をしています。何度目かの「もっと仲間を増やさないと！」という気持ちになったので、最近の活動を紹介して仲間を増やそうと試みます。統計情報関連のこともがんばっていたことを思い出したので紹介します。Apache Arrowと統計情報データフォーマットとしてのApache Arrowには統計情報は入っていません。いくつかメタデータとして任意の情報を入れられる箇所があるのでそこに統計情報を入れることもできますが、独自仕様で入れても相互運用性がなくて使いにくそうです。ということで、現状では統計情報を活用しにくいです。そもそも、どういうときに統計情報が欲しいかというと、高速にデータ処理したいときです。たとえば、統計情報を使って高速に処理できそうな実行計画を作ることができます。Apache Arrowがやりたいことは「インメモリーデータを高速に処理したい！」なので、いい感じに統計情報を扱えるとうれしそうですよね。Apache Arrowの高速データ処理のためのアプローチの1つはゼロコピーでのデータ交換です。モジュールAからモジュールBにデータを渡してもオーバーヘッドが小さいということです。A →データ→ B（オーバーヘッドが小さい==速い）もし、Aが統計情報を持っていたとしたらそれもBに渡したいです。統計情報があるとBはより高速な実行計画を作れるかもしれないからです。A →データ+統計情報→ B（高速な実行計画を作れるかも！）しかし、現状は統計情報を渡す標準的な手段がないため、統計情報を渡したければ独自の方法で実現しないといけません。ということで、なにかいい感じの方法を標準化しようとしています。Apache Arrowのデータ交換経路実は、Apache Arrowデータを交換する方法はたくさんあります。よく使われているのはApache Arrow IPCファイルフォーマットでファイルに保存して交換する方法と、Apache Arrow I
</div><div class="ui-feed-item__date" title="2024-10-15 15:00:00">1ヶ月前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://www.clear-code.com/blog/2024/10/11/apache-arrow-jruby.html"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://www.clear-code.com/blog/2024/10/11/apache-arrow-jruby.html">JRubyでもApache Arrowを使いたい？</a><div class="ui-feed-item__blog-title">ククログ</div><div class="ui-feed-item__summary">
Apache Arrowの開発に参加している須藤です。現時点でapache/arrowのコミット数は1位です。私はRubyでデータ処理できるようになるといいなぁと思ってApache Arrowの開発に参加し始めました。同じような人が増えるといいなぁと思ったりなにか試したりしましたが、あいかわらず、今でも実質1人でApache ArrowのRuby対応をしています。何度目かの「もっと仲間を増やさないと！」という気持ちになったので、最近の活動を紹介して仲間を増やそうと試みます。そのために選んだ話題がJRubyなのはちょっとアレな気もしますが、最近「がんばったな！」という気持ちになったのがこれだからしょうがない。JRubyでApache Arrow？JRubyでもApache Arrowを扱いたいというのはRubyKaigi 2023でADBCの話をしたあとにJRuby開発者の@headiusから提案されました。そのときはちょっと頑張ったんですが、依存ライブラリーの管理をどうしようかなぁというところで止まっていました。RubyKaigi 2024で@headiusと相談して、いけそうな気持ちにはなったんですが、やる気がしなくて手つかずのままでした。でも、この間、ちょっといろいろあってFiddleのJRuby実装をruby/fiddleに取り込むというのをやってちょっとやる気がでました。私は普段JRubyは触っていなくて、昔、ActiveLdapのJNDIアダプターを書いたときに触ったとかそのくらいの経験だったのですが、久しぶりに触ったのでちょっとやる気がでたのです。やる気がでたのでとりあえず動くくらいのところまでやりました。とりあえず動くくらいなので、まだまだ実用的ではないのですが、そのくらいの方が参加しやすい（仲間が増えやすい）んじゃないかとも思うので紹介します。Apache Arrow実装Apache Arrowの実装は大きく、ネイティブ実装とバインディングに分かれます。ネイティブ実装はその言語で一から実装しているやつで、バインディングは他の言語でのネイティブ実装を使えるようにしたものです。RubyのApache Arrow実装はC++ネイティブ実装のバインディングです。JRubyのApache Arrow実装もバインディングですが、Javaネイティブ実装のバインディ
</div><div class="ui-feed-item__date" title="2024-10-10 15:00:00">1ヶ月前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://www.clear-code.com/blog/2024/10/8/how-to-modify-and-repack-package.html"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://www.clear-code.com/blog/2024/10/8/how-to-modify-and-repack-package.html">debやrpmの中身を一部書き換えてパッケージを再作成する方法</a><div class="ui-feed-item__blog-title">ククログ</div><div class="ui-feed-item__summary">
開発したソフトウェアを簡単に導入してもらえるようにするための工夫として、debやrpmといったパッケージを用意し、パッケージを含むリポジトリからインストールできるようにするということがよく行われています。debやrpmといったパッケージを提供する側にとっては、提供したパッケージを問題なく更新できるように、（パッケージの一部だけ変更したものを用意するなどして）パッケージ更新時の挙動を検証したくなることがあります。今回はそんなときのために、debおよびrpmの内容を一部書き換えてパッケージを再作成する方法について紹介します。debの内容を書き換えてパッケージを作成する方法例として、helloパッケージを変更してみることにします。apt download helloを実行して得られた、hello_2.10-3_amd64.debの次のバージョンである2.10-4を作成してみます。これを実現するためには次の手順が必要です。debパッケージを展開する展開したdebパッケージのバージョンに関する情報を書き換える展開したdebパッケージを再度debパッケージとして再構成しなおす最初のdebパッケージを展開するためには、次のコマンドを実行します。dpkg-deb -R (対象の.deb) (展開先のディレクトリ)したがってhello_2.10-3_amd64.debをtmpディレクトリに展開するならば次のコマンドを実行します。dpkg-deb -R hello_2.10-3_amd64.deb tmpdebパッケージをこのようにして展開すると、次のような階層のディレクトリが作成されます。$ treetmp├── DEBIAN│ ├── control│ └── md5sums└── usr ├── bin │ └── hello └── share ├── doc │ └── hello │ ├── NEWS.gz │ ├── changelog.Debian.gz │ ├── changelog.gz │ └── copyright ├── info...(省略)DEBIANディレクトリにはdebパッケージのメタ情報やメンテナースクリプトといったものが含まれます。その他にはパッケージをインストールしたときの階層そのままにファイルが配置されます。次に、パッケージのバージョンに関する
</div><div class="ui-feed-item__date" title="2024-10-07 15:00:00">1ヶ月前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://www.clear-code.com/blog/2024/10/3/techouse-oss-gate-workshop-report.html"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://www.clear-code.com/blog/2024/10/3/techouse-oss-gate-workshop-report.html">Techouseさまにおける新人研修の一環としてのOSS Gateワークショップ実施事例紹介</a><div class="ui-feed-item__blog-title">ククログ</div><div class="ui-feed-item__summary">
当社のOSS開発サポート事業では、企業におけるオープンソースに関連したお困りごとの解決のために、開発への協力、研修の実施など、様々なお手伝いをしています。去る4月18日、頂いたご相談に基づき、Webサービスを自社開発・運営しておられる企業のTechouseさまにおいて、新人研修の一環としてOSS Gateワークショップを実施しました。参加された方による体験記の記事がすでにTechouseさまの開発者向けブログで公開されていますので、ワークショップがどのような様子だったかはぜひそちらをご覧下さい。本記事では開催側の視点から、何を期待し、どのように効果を測定したか、どのような準備を行ったかをご紹介します。OSS開発に関わってみたいけれどもうまく進められておらず困っている、当社のOSS開発サポートで具体的にどのようなサポートを受けられるのかを知りたい、とお考えの企業さまに参考にして頂けましたら幸いです。（本記事に掲載の写真画像はTechouseさまからご提供を頂いた物で、CC BY-SA 4.0およびGFDLの適用外となります。記事を再利用される際は、写真画像を省いてお使いください。）Techouseさまの期待と現状元々Techouseさまでは、業務には直結しない話題も含めた様々な内容の勉強会を社内で開催するなど、所属ソフトウェアエンジニアの方々の技術力の維持・向上のために様々な取り組みをされているそうです。当初は、そういった取り組みの題材の1つとして、何かしらの刺激の源としてオープンソース活動を社内で行いたい・推進したい、ということでTechouseさまから支援のご相談を頂きました。技術力向上や刺激を得るという観点で、「実際のOSS開発プロジェクトに開発者として関わる」ことには確かにいくつもメリットを見いだせます。わざわざ教材を用意せずとも、未解決の問題が多数ある。（ただし、粒度や難易度は千差万別）OSS開発に関わり続けるだけで、継続的に刺激を得られると期待できる。今までブラックボックスとして触れていた既存のOSSについて、その内側を覗く機会ができる。業務上で遭遇したOSSの不具合について、深掘りして調査できるようになると、より良い解決策が見付かる可能性が増す。過去の経緯を知らない状態でコードに触れて調査したり、既存のコードに合わせたコードを書いたりする訓練になる。Te
</div><div class="ui-feed-item__date" title="2024-10-02 15:00:00">1ヶ月前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://www.clear-code.com/blog/2024/10/2/reverse-proxy-server-variable-settings-in-iis.html"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://www.clear-code.com/blog/2024/10/2/reverse-proxy-server-variable-settings-in-iis.html">IISでリバースプロキシ（転送するヘッダの設定）</a><div class="ui-feed-item__blog-title">ククログ</div><div class="ui-feed-item__summary">
IISでリバースプロキシの設定をしている阿部です。先日、IISでリバースプロキシの設定をする方法を説明しました。今回は少し進んだ設定方法としてヘッダ情報を転送する設定（nginxのproxy_set_header相当の設定）について説明します。IISでリバースプロキシ設定で、バックエンドにヘッダ情報を転送したい方の参考になると思います。前提Grafanaを題材に設定例を説明します。Grafanaでリバースプロキシの設定をするときはHostをバックエンドに転送する必要があります。（CSRF対策のチェックの一環として必要です。）参考: https://github.com/grafana/grafana/issues/45117#issuecomment-1033842787この設定をしないとWeb画面でエラー表示が出ます。ということで、このGrafanaでのヘッダ転送を例にIISでヘッダ情報を転送する方法を説明します。準備: IISIISでリバースプロキシの設定をする方法は理解しているIISでWebSocket Protocolを有効にしている設定手順: https://learn.microsoft.com/ja-jp/iis/get-started/whats-new-in-iis-8/iis-80-websocket-protocol-support#step-by-step-instructionsドキュメントの通りポチポチ押してインストールして有効にします本題のヘッダ情報の転送には無関係です。設定例に使うGrafanaが利用するので有効にしますWebSocket Protocolを有効にさえしていれば、リバースプロキシの設定時に追加の設定などは必要ありません準備: GrafanaGrafanaのインストールや設定についての詳細は割愛します。関連する部分のみ説明します。例として使うGrafanaはv11.2.0です。Winodwsにインストール参考: https://grafana.com/docs/grafana/latest/setup-grafana/installation/windows/書いてある通りにZIPファイルをダウンロードして展開すれば完了です。リバースプロキシに関連する設定: ドメイン・URLZIPファイルを展開するとconf/sampl
</div><div class="ui-feed-item__date" title="2024-10-01 15:00:00">1ヶ月前</div></div></div></div></div></section></main><footer role="contentinfo" class="ui-section-footer"><div class="ui-layout-container"><div class="ui-layout-column-6 ui-layout-column-center"><div class="ui-component-cta ui-layout-flex ui-section-footer__site-info"><p class="ui-text-note">このサイトは<br>記事を読んでその企業の技術・カルチャーを知れることや<br>質の高い技術情報を得られることを目的としています。</p><p class="ui-text-note">追加したいブログがある場合は<br><a href="https://github.com/yamadashy/tech-blog-rss-feed#%E3%82%B5%E3%82%A4%E3%83%88%E3%81%AE%E8%BF%BD%E5%8A%A0%E6%96%B9%E6%B3%95">サイトの追加方法</a> をご参照ください。</p></div></div></div><div class="ui-layout-container"><div class="ui-section-footer__layout ui-layout-flex"><p class="ui-section-footer--copyright ui-text-note"><a class="ui-text-note" href="https://github.com/yamadashy/"><small>@yamadashy</small></a></p><a href="https://github.com/yamadashy/tech-blog-rss-feed/" role="link" aria-label="#" class="ui-text-note"><small>GitHub
</small></a></div></div></footer></body></html>